<main class="max-w-screen-md mx-auto">
  <section class="p-4">

    @if (error()) {
      <p>{{error()}}</p>
    }
    
    @if (page()?.title) {
      <h1 class="text-4xl font-bold mb-4"
          [attr.data-cslp]="page()?.$ && page()?.$.title['data-cslp']">
        {{ page()?.title }}
      </h1>
    }

    @if (page()?.description) {
      <p class="mb-4"
         [attr.data-cslp]="page()?.$ && page()?.$.description['data-cslp']">
        {{ page()?.description }}
      </p>
    }

    @if (page()?.image) {
      <img class="mb-4"
        width="768"
        height="414"
        [src]="page()?.image?.url"
        [alt]="page()?.image?.title"
        [attr.data-cslp]="page()?.image.$ && page()?.image.$.url['data-cslp']" />
    }

    @if (page()?.rich_text) {
      <div [attr.data-cslp]="page()?.$ && page()?.$.rich_text['data-cslp']"
        [innerHTML]="page()?.rich_text">
      </div>
    }

    <div class="space-y-8 max-w-full mt-4" [attr.data-cslp]="page()?.$ && page()?.$.blocks['data-cslp']">
      @for (item of page()?.blocks; track $index; let index = $index) {
        <div [attr.data-cslp]="page()?.$ && page()?.$['blocks__' + index]['data-cslp']"
          class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 bg-slate-100"
          [class.md:flex-row]="item.block.layout === 'image_left'"
          [class.md:flex-row-reverse]="item.block.layout !== 'image_left'">
          
          <div class="w-full md:w-1/2">
            @if (item.block.image) {
              <img [src]="item.block.image.url"
                [alt]="item.block.image.title"
                width="200"
                height="112"
                class="w-full" 
                [attr.data-cslp]="item.block?.image.$ && item.block?.image.$.url['data-cslp']"
              />
            }
          </div>
          
          <div class="w-full md:w-1/2 p-4">
            @if (item.block.title) {
              <h2 class="text-2xl font-bold" 
                [attr.data-cslp]="item.block.$ && item.block.$.title['data-cslp']">
                {{ item.block.title }}
              </h2>
            }
            
            @if (item.block.copy) {
              <div class="prose"
                   [attr.data-cslp]="item.block.$ && item.block.$.copy['data-cslp']"
                   [innerHTML]="item.block.copy">
              </div>
            }
          </div>
        </div>
      }
    </div>
  </section>
</main>